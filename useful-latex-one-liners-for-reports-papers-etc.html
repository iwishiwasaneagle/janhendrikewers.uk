<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Jan-Hendrik Ewers" />
    <link rel="shortcut icon" type="image/x-icon" href="static/img/favicon.ico">    
    <link rel="alternate" type="application/atom+xml" href="https://janhendrikewers.uk/atom.xml">
	  
    
      <meta name="description" content="A handful of useful command line one-liners to help you write in LaTex. For example, word counts or ensuring unqiue labels.">
    

    
      <title>Useful LaTex One-Liners For Reports/Papers/Etc.</title>
    

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<!-- Custom styles for this template -->
  <link rel="stylesheet" type="text/css" href="static/css/main.css" />
  <link rel="preload"
        as="style"
        onload="this.rel = 'stylesheet'" 
	      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old&display=swap" />
  <noscript>
        <link rel="stylesheet" 
        type="text/css"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old&display=swap" />
  </noscript>

	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" />
  
  
  <script 
    defer 
    data-domain="janhendrikewers.uk" 
    data-api="https://divine-wood-7bde.dev-jh-ewers4177.workers.dev/bd7483245a4d6b07"
    src="https://divine-wood-7bde.dev-jh-ewers4177.workers.dev/18dcc14a8dd9f785.js"></script>

  

  <!-- mathjax support -->
  
  
  </head>

  <!-- Main Body-->
  <body>
    <div>
    <!-- Navbar header -->
    <div class="container">
    <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
      <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none plausible-event-name=Header+Click">
        <img src="/static/img/logo.png" width=100px alt="Jan-Hendrik Ewers Logo" class="img-fluid"> 
      </a>

      <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li><a href="/blog" class="nav-link px-2 link-dark plausible-event-name=Header+Click">BLOG</a></li>
        <li><a href="/projects" class="nav-link px-2 link-dark plausible-event-name=Header+Click">PROJECTS</a></li>
        <li><a href="/bookshelf" class="nav-link px-2 link-dark plausible-event-name=Header+Click">MY BOOKSHELF</a></li>
        <li><a href="/static/pdf/cv.pdf" class="nav-link px-2 link-dark plausible-event-name=Header+Click">RESUME</a></li>
      </ul>
    </header>
</div>


    <div class="container">
	<div class="blog-post">
		<h1 class='fs-3 fw-bold'>
		  Useful LaTex One-Liners For Reports/Papers/Etc.
		</h1>
	</div>
	<div class="blog-title">
		<p class='fs-5'>
		April 19, 2023
			&nbsp;&nbsp;
			

			 <span class="badge rounded-pill">LaTex</span>

			

			 <span class="badge rounded-pill">CLI</span>

			

			 <span class="badge rounded-pill">Tools</span>

			
		</p>
		<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {position: relative; text-align: left; height: 36px; width: 32px; float: left; text-align: center;}
#share-buttons > div > svg {height: 16px; fill: #666666; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<div id="share-buttons">
    <div class="facebook" title="Share this on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https://janhendrikewers.uk/useful-latex-one-liners-for-reports-papers-etc.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <div class="twitter" title="Share this on Twitter" onclick="window.open('https://twitter.com/intent/tweet?url=https://janhendrikewers.uk/useful-latex-one-liners-for-reports-papers-etc.html&text=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https://janhendrikewers.uk/useful-latex-one-liners-for-reports-papers-etc.html&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
    <div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=https://janhendrikewers.uk/useful-latex-one-liners-for-reports-papers-etc.html');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>
	</div>
	
	<hr/>
	
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="blogpost">
			  <p>Some useful LaTex one-liners that I’ve accumulated over the years. You can also find these tools <a href="https://gist.github.com/iwishiwasaneagle/2f91f63f3cb0107b94b501aa284a18ca">here</a></p>

<h2 id="show-all-errors-warnings-and-undefined-messages">Show all errors, warnings, and undefined messages</h2>

<p>Very basic but useful to analyse a log file after compilation with location in log file for further analysis</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep</span> <span class="nt">-iHEn</span> <span class="s2">"error|warning|undefined"</span> <span class="k">*</span>.log
</code></pre></div></div>

<h2 id="find-all-the-duplicated-labels-in-a-directory">Find all the duplicated labels in a directory</h2>

<p>Useful if referencing a figure results in warnings/errors</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep</span> <span class="nt">-ERh</span> <span class="s2">"</span><span class="se">\\\\</span><span class="s2">label</span><span class="se">\{\w</span><span class="s2">*:</span><span class="se">\w</span><span class="s2">*</span><span class="se">\}</span><span class="s2">"</span> <span class="nt">--include</span><span class="o">=</span><span class="s2">"*.tex"</span> <span class="se">\</span>
     | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s2">" "</span> | <span class="nb">sort</span> | <span class="nb">uniq</span> <span class="nt">-c</span> | <span class="nb">awk</span> <span class="s1">'$1&gt;1 {print $0}'</span>
</code></pre></div></div>

<h2 id="validate-referencesbib">Validate references.bib</h2>

<p>We use <a href="https://github.com/Pezmc/BibLatex-Check">Pezmc/BibLatex-Check</a> for this one.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://raw.githubusercontent.com/Pezmc/BibLatex-Check/master/biblatex_check.py <span class="se">\ </span>
    2&gt;/dev/null | python - <span class="se">\ </span>
    <span class="nt">-b</span> <span class="si">$(</span>find ./ <span class="nt">-maxdepth</span> 1 <span class="nt">-name</span> <span class="s2">"*.bib"</span> | <span class="nb">head</span> <span class="nt">-n1</span><span class="si">)</span> <span class="se">\ </span>
    <span class="nt">-a</span> <span class="si">$(</span>find ./ <span class="nt">-maxdepth</span> 1 <span class="nt">-name</span> <span class="s2">"*.aux"</span> | <span class="nb">head</span> <span class="nt">-n1</span><span class="si">)</span>
</code></pre></div></div>

<h2 id="find-all-the-unused-labels">Find all the unused labels</h2>

<p>Calling this one a “one-liner” is pushing it, but it’s very useful nonetheless so it’s being included.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">REF</span><span class="o">=(</span><span class="si">$(</span><span class="nv">IFS</span><span class="o">=</span><span class="p">;</span><span class="nb">grep</span> <span class="nt">-ERoh</span> <span class="s2">"</span><span class="se">\\\\\w</span><span class="s2">*ref</span><span class="se">\{\w</span><span class="s2">*:</span><span class="se">\w</span><span class="s2">*</span><span class="se">\}</span><span class="s2">"</span> <span class="nb">.</span> | <span class="nb">sort</span> | <span class="nb">uniq</span> | <span class="nb">awk</span> <span class="nt">-F</span><span class="o">{</span> <span class="s1">'{print $2}'</span> | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'}'</span><span class="si">)</span><span class="o">)</span>
<span class="nv">LABEL</span><span class="o">=(</span><span class="si">$(</span><span class="nv">IFS</span><span class="o">=</span><span class="p">;</span><span class="nb">grep</span> <span class="nt">-ERoh</span> <span class="s2">"</span><span class="se">\\\\</span><span class="s2">label</span><span class="se">\{\w</span><span class="s2">*:</span><span class="se">\w</span><span class="s2">*</span><span class="se">\}</span><span class="s2">"</span> <span class="nb">.</span> | <span class="nb">sort</span> | <span class="nb">uniq</span> | <span class="nb">awk</span> <span class="nt">-F</span><span class="o">{</span> <span class="s1">'{print $2}'</span> | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'}'</span><span class="si">)</span><span class="o">)</span>
<span class="k">for </span>i <span class="k">in</span> <span class="nv">$LABEL</span>
<span class="k">do
    </span><span class="nb">echo</span> <span class="nv">$REF</span> | <span class="nb">grep</span> <span class="nt">-iq</span> <span class="s2">" </span><span class="nv">$i</span><span class="s2"> "</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$?</span> <span class="nt">-eq</span> 1 <span class="o">]]</span>
    <span class="k">then
        </span><span class="nb">printf</span> <span class="s2">"</span><span class="se">\0</span><span class="s2">33[0;31mUNUSED LABEL: </span><span class="se">\0</span><span class="s2">33[0;32m</span><span class="nv">$i</span><span class="se">\0</span><span class="s2">33[0m</span><span class="se">\n</span><span class="s2">"</span>
    <span class="k">fi
done</span>
</code></pre></div></div>

<h2 id="get-document-rough-word-count">Get document (rough) word count</h2>

<p>This doesn’t exclude referencing etc. but accurate enough for rough estimates.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pdftotext main.pdf - | <span class="se">\</span>
    <span class="nb">grep</span> <span class="nt">-ohE</span> <span class="s2">"</span><span class="se">\b</span><span class="s2">[a-zA-Z]{2,}</span><span class="se">\b</span><span class="s2">"</span> | <span class="se">\</span>
    <span class="nb">tr</span> <span class="s1">'[:upper:]'</span> <span class="s1">'[:lower:]'</span> | <span class="se">\</span>
    <span class="nb">sort</span> | <span class="nb">uniq</span> <span class="o">&gt;</span> /tmp/words.txt<span class="p">;</span> pdftotext main.pdf - | <span class="se">\</span>
    <span class="nb">grep</span> <span class="nt">-ohFf</span> /tmp/words.txt | <span class="nb">wc</span> <span class="nt">-w</span>
</code></pre></div></div>

<h2 id="spell-check">Spell check</h2>

<p>Requires <code class="language-plaintext highlighter-rouge">aspell-en</code>.</p>

<ol>
  <li>Non-interactive - list of misspelled words
    <ul>
      <li><code class="language-plaintext highlighter-rouge">pdftotext main.pdf - | grep -ohE "\b[a-zA-Z]{2,}\b" | tr '[:upper:]' '[:lower:]' | sort | uniq | aspell list -t | sort | uniq -c</code></li>
    </ul>
  </li>
  <li>Interactive spell-check - file by file
    <ul>
      <li><code class="language-plaintext highlighter-rouge">aspell -c -t main.tex # Replace main.tex with whatever tex file you're checking</code></li>
    </ul>
  </li>
</ol>

			   <hr>
			   <div class="related-posts">
				   <h5>Related Posts</h5>
				   
						<div class='row row-cols-sm-1 row-cols-md-2 row-cols-lg-2'>
							<div class="col-sm-4 col-md-4 col-lg-4">
								<h6 class='text-sm-start text-md-end text-lg-end '>
									October  3, 2021
								</h6>
							</div>
							<div class="col-sm-8 col-md-8 col-lg-8">
								<h6 class='text-start'>
									<a class='text-decoration-none plausible-event-name=Related+Post+Click' href="/scheduled-off-site-backups-for-paperless-ng-using-rclone.html">Scheduling Backups To OneDrive For Paperless-ng Using RClone</a>
								</h6>
							</div>
						</div>
					
						<div class='row row-cols-sm-1 row-cols-md-2 row-cols-lg-2'>
							<div class="col-sm-4 col-md-4 col-lg-4">
								<h6 class='text-sm-start text-md-end text-lg-end '>
									September 25, 2021
								</h6>
							</div>
							<div class="col-sm-8 col-md-8 col-lg-8">
								<h6 class='text-start'>
									<a class='text-decoration-none plausible-event-name=Related+Post+Click' href="/paperless-ng_on_localy_hosted_rpi.html">Paperless-ng On Raspberry Pi With Email And Samba</a>
								</h6>
							</div>
						</div>
					
						<div class='row row-cols-sm-1 row-cols-md-2 row-cols-lg-2'>
							<div class="col-sm-4 col-md-4 col-lg-4">
								<h6 class='text-sm-start text-md-end text-lg-end '>
									March 22, 2022
								</h6>
							</div>
							<div class="col-sm-8 col-md-8 col-lg-8">
								<h6 class='text-start'>
									<a class='text-decoration-none plausible-event-name=Related+Post+Click' href="/pydantic_vs_protobuf_vs_namedtuple_vs_dataclasses.html">Pydantic vs Protobuf vs Namedtuples vs Dataclasses</a>
								</h6>
							</div>
						</div>
					
			   </div>
			</div>
		</div>
	</div>
  <div id="comments"></div>
  <script src="https://utteranc.es/client.js"
        repo="iwishiwasaneagle/janhendrikewers.uk"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</div>

</div>
    
    <!-- Footer -->
    <footer class="mt-auto py-3">
    <div class="container">
        <span class="text-muted">© All rights reserved. Contribute at <a href="https://github.com/iwishiwasaneagle/janhendrikewers.uk"> GitHub</a>. Powered by <a href="http://jekyllrb.com/">Jekyll</a> with ♥</span>
    </div>
</footer>

  </body>
</html>
